# Pinggu 서비스 소개

## 위치 기반 SNS

### "장소에 대한 추억을 기록하다"

장소에서의 좋았던 경험을 기록합니다. 그 곳에서의 추억, 혹은 찾기 힘들었던 숨은 장소를 기록하는 것도 좋습니다.

다른 사람이 방문했던 장소의 위치가 궁금하다면 굳이 위치를 따로 찾아 볼 필요가 없습니다. 게시물의 내용과 함께 한 눈에 확인할 수 있습니다.

### "추억들을 모아 Mypings에 보관하다"

나만의 카테고리인 Mypings에 추억들을 보관합니다. 맛집, 명소, 포토존 등 키워드별로 보관해도 좋고, 날짜별로 보관해도 좋습니다. 추억을 회상하고 싶을 때, 언제든지 꺼내볼 수 있습니다.

### "다른 사람들과 추억을 공유하다"

Mypings에 담긴 나의 추억들을 다른 사람들과 공유합니다. 나만 알고싶은 추억은 비공개 Mypings에 보관하면 됩니다.

다른 사람의 관심사나 경험은 Mypings를 통해 확인할 수 있습니다. 첫 데이트 이전에 대화 주제가 걱정된다면 상대방의 Mypings를 둘러보세요.

## 제안 배경

SNS를 둘러보다보면 꼭 찾아가보고싶은 장소들이 보입니다. 하지만 일일이 위치를 검색해보는 일은 상당히 번거롭습니다. 이런 불편함을 해소하기 위해 기존 SNS와 네이버, 카카오 지도를 벤치마킹하여 특징을 접목시키고자 했습니다.

우연히 찾은 숨은 스팟, 예를 들면 낚시 명당 자리나 별이  잘 보이는 곳의 위치는 주소만으로 다시 찾기 어려울 수 있습니다. 이럴 때, 현재 위치를 바로 기록할 수 있다면 재방문이 한결 수월할 것이라고 생각했습니다. 이런 스팟을 다른 사람과 공유하는 것은 자유입니다.

---

# 화면 구성

### 홈/타임라인

내가 팔로우한 사람들의 게시물을 타임라인에서 확인할 수 있다. 지도는 현재 내 위치를 중심으로 보여주며, 내 주변에 등록된 게시물을 보여준다.

### 탐색

키워드 별로 검색된 게시물, Mypings 목록을 보여준다.

### 마이페이지

내가 작성한 게시물 목록, 나의 Mypings 및 내가 공유한 다른 사용자의 Mypings 목록, 내 팔로잉, 팔로워 목록을 확인할 수 있다.

프로필 이미지, 닉네임 및 자기소개를 수정할 수 있다.

### 게시물

특정 게시물의 상세 내용을 확인할 수 있으며 지도에 해당 게시물의 위치가 표시된다.

댓글 및 답글을 작성할 수 있고, 작성자의 다른 게시물 목록을 확인할 수 있다.

기존 게시물의 내용을 수정하고 이미지를 추가적으로 업로드할 수 있다.

### 마이핑스

마이페이지에서 나의 Mypings 목록과 내가 공유한 다른 사용자의 Mypings 목록을 확인할 수 있다.

특정 Mypings를 클릭하면 해당 Mypings에 포함된 게시물들을 확인할 수 있다.

Mypings 이름 및 카테고리 수정과 해당 Mypings에서 제외할 게시물, 추가할 게시물을 선택할 수 있다.

### 친구

내가 팔로우하고 있는 친구, 나를 팔로우하고 있는 친구 목록을 각각 확인할 수 있다. 내가 팔로우중인 친구는 팔로우취소를 할 수 있고, 그렇지 않은 친구는 팔로우할 수 있다.

### 지도

특정 지점에 마커를 찍어 그 위치에 게시물을 등록할 수 있다.

주변에 등록된 게시물을 표시하는 마커에 마우스를 올리면 게시물의 내용을 간략히 볼 수 있다.

게시물을 클릭하면 게시물이 등록된 위치로 지도가 이동한다. 게시물이 등록된 위치를 쉽게 확인할 수 있다.


## 팀원

### 박미주

### 기획 단계
- 기능 명세 작성 참여
- DB 설계 참여
- front, back 폴더 구조 설계
- 공통 컴포넌트 ui 작성
- 유저, 게시물, 마이핑스 등 대부분의 인터페이스 작성

### 구현(인터페이스)
- 모든 ui 기획 및 개발
- `react.js`와 `typescript` 사용
- `emotion`으로 스타일링
- `context api`와 `SWR`로 상태 관리
- *`context api`: 전역 상태 관리 (회원정보 등)
- *SWR: revalidating 기능으로 데이터 최신 업데이트 기능 수행

### 각 페이지별 구현 사항
- 회원: 로그인, 회원가입, **social login**, 프로필 생성/수정 
- 홈: infinite scrolling을 통해 게시물 load, 지도 viewport에 맞게 main app 크기 조절, 메뉴 및 설정 modal
- 게시물: 생성, 수정, 삭제, 이미지 modal
- 댓글: 조회, 생성, 수정, 삭제
- 좋아요: 생성, 삭제 toggle fetcher
- 마이핑스: 생성, 수정, 삭제 toggle fetcher
- 쉐어핑스: 생성, 수정, 삭제 toggle fetcher
- 검색: `debounce`로 검색 요청 최적화, filter 기능 추가


### hooks/utils(custom)
- `useInput`: ref 및 value의 변동 값을 바로 가져올 수 있도록
- `promisifyImageFiles`: 이미지 formData 병렬 처리
- `sessionContext`: useSWR과 context api를 연결하여 전역으로 상태 관리
- `fetcher`: axios을 통해 보다 편리한 custom fetch 함수 구현
- `compose`: 함수 배열을 reduce하여 순차적으로 실행해야 하는 함수 연결하여 유저 권한별 화면 분리


### 최태윤

### 기획 단계

- 기능 명세 작성 참여
- DB 설계 참여
- 게시물 / 검색 관련 API 작성
- 게시물 / 검색 관련 인터페이스 작성
- 게시물(백)

### 게시물(백)

- 팔로워 게시물 조회
- 게시물 생성 / 수정 / 삭제
- 특정 게시물에 속한 내용 및 댓글 및 좋아요 조회
- 메인 지도의 viewport 내 위도 경도에 속한 게시물 조회
- 특정 게시물에 대한 댓글 목록 조회
- 댓글 생성 / 수정 / 삭제
- 특정 게시물에 대한 좋아요 목록 조회
- 좋아요 생성 / 좋아요 취소
- multer 라이브러리를 이용한 이미지 저장 구현

### 검색

- 카테고리에 따라 마이핑스, 포스트, 유저에 대한 검색결과 조회

### 검색 결과

- 특정 유저가 검색한 검색기록 생성, 조회, 전체삭제, 개별삭제 구현
인기 검색어 순위 조회 구현

### 스케줄러

- node-cron 라이브러리를 이용해 날짜 별로 이미지 저장 폴더 생성
node-cron 라이브러리를 이용해 매일 자정 삭제된 게시물에 관한 이미지들 삭제
미들웨어
- express-validator 라이브러리를 이용해 게시물 및 댓글에 대한 유효성 검사 구현
- morgan, winston 라이브러리를 함께 사용하여 서버에 대한 요청 및 에러를 날짜 별로 로그 파일로 관리하도록 구현
게시물 및 댓글에 대한 조회 요청 시 존재 여부 확인 미들웨어 구현


### 임은하

### 기획 단계

- 기능 명세 작성 참여
- DB 설계 참여
- 회원 / Mypings 관련 API 작성
- 회원 / Mypings 관련 인터페이스 작성
‌

### 회원(백)

- passport 라이브러리를 이용한 소셜 로그인 구현
- 전체 회원 목록 조회
- 특정 회원 정보 조회
- 팔로워 / 팔로잉 목록 조회
- 팔로우 / 언팔로우
- 회원의 게시물 목록 조회
- 회원의 Mypings 목록 조회
- 회원이 공유한 Mypings 목록 조회
‌
### 마이핑스(백)

- Mypings 생성 / 수정 / 삭제
- Mypings 공개 여부 설정
- 특정 Mypings 정보 조회
- 특정 Mypings에 포함된 게시물 목록 조회
- 게시물 편집용 Mypings 목록 조희
- 게시물 편집용 Mypings 선택
- Mypings 수정용 게시물 목록 조회
- Mypings 공유 및 공유 취소
‌

### 미들웨어

- isPrivate 미들웨어 생성 - 다른 사용자의 비공개 컨텐츠에 대한 접근을 차단
- isAccessible 미들웨어 생성 - 다른 사용자의 컨텐츠 수정/삭제 및 설정에 대한 접근을 차단
‌

### 지도

- kakao map API를 사용한 Map Component 생성
- map을 컨트롤하기 위한 함수를 여러 컴포넌트에서 사용할 수 있도록 useMap Context 생성
- 내 현재 위치는 geolocation을 이용
- debounce를 사용해 지도 범위 내 등록된 게시물 정보 요청 (center_changed event)
‌

### 김민제

### 기획 단계

- 기능 명세 작성 참여
- DB 설계 참여

### 회원(백)

- 사용자 정보 변경

### 서버

- 서버 세팅 및 배포
